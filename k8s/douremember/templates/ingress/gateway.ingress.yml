apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: douremember-ingress
  annotations:
    # Timeouts aumentados para endpoints que usan IA (pueden tardar 30-40s)
    # GCE Ingress (Google Cloud) tiene timeout por defecto de 30s
    kubernetes.io/ingress.class: "gce"
    # Timeout del backend (m√°ximo 86400s = 24 horas)
    cloud.google.com/backend-config: "backend-config-descripciones"
    # SSL Certificate administrado por Google
    networking.gke.io/managed-certificates: "douremember-ssl-cert"
    # Redirigir HTTP a HTTPS
    kubernetes.io/ingress.allow-http: "true"
spec:
  rules:
    - http:
        paths:
        - path: /*
          pathType: ImplementationSpecific
          backend:
            service:
              name: gateway
              port:
                number: 3000